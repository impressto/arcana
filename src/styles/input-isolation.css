/* 
 * Input Field CSS Isolation for Arcana App
 * This CSS provides strong isolation for all form elements within the app
 * to prevent host page CSS from interfering with input styling
 */

/* Container selector - all input isolation is scoped to elements within #arcana-app-root */
#arcana-app-root {
  /* Create isolation context for the entire app */
  isolation: isolate;
  position: relative;
}

/* Reset and isolate form elements within the app (excluding styled buttons) */
#arcana-app-root input,
#arcana-app-root textarea,
#arcana-app-root select {
  /* Complete reset to override any inherited styles */
  all: unset !important;
  
  /* Re-establish essential properties */
  box-sizing: border-box !important;
  display: inline-block !important;
  font-family: 'Inter', system-ui, sans-serif !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  
  /* Prevent host page from overriding these critical properties */
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
}

/* Reset only unstyled buttons (not those with our CSS classes) */
#arcana-app-root button:not(.btn-primary):not(.btn-secondary) {
  /* Selective reset for plain buttons */
  all: unset !important;
  
  /* Re-establish essential properties */
  box-sizing: border-box !important;
  display: inline-block !important;
  font-family: 'Inter', system-ui, sans-serif !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  
  /* Prevent host page from overriding these critical properties */
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
}

/* Specific input field styling with maximum specificity */
#arcana-app-root input[type="text"],
#arcana-app-root input[type="email"],
#arcana-app-root input[type="password"],
#arcana-app-root input[type="number"],
#arcana-app-root input[type="url"],
#arcana-app-root input[type="search"],
#arcana-app-root input[type="tel"],
#arcana-app-root input[type="date"],
#arcana-app-root input[type="datetime-local"],
#arcana-app-root input[type="time"],
#arcana-app-root textarea {
  /* Essential layout properties */
  width: 100% !important;
  padding: 8px 12px !important;
  margin: 0 !important;
  
  /* Background and border */
  background-color: #ffffff !important;
  background-image: none !important;
  border: 1px solid #d1d5db !important;
  border-radius: 8px !important;
  
  /* Typography */
  font-family: 'Inter', system-ui, sans-serif !important;
  font-size: 14px !important;
  font-weight: 400 !important;
  line-height: 1.5 !important;
  color: #111827 !important;
  
  /* Remove any host page effects */
  text-decoration: none !important;
  text-transform: none !important;
  letter-spacing: normal !important;
  word-spacing: normal !important;
  
  /* Interaction states */
  cursor: text !important;
  outline: none !important;
  transition: border-color 0.2s ease, box-shadow 0.2s ease !important;
  
  /* Remove any host page box shadows or effects */
  box-shadow: none !important;
  filter: none !important;
  transform: none !important;
}

/* Focus states with high specificity */
#arcana-app-root input[type="text"]:focus,
#arcana-app-root input[type="email"]:focus,
#arcana-app-root input[type="password"]:focus,
#arcana-app-root input[type="number"]:focus,
#arcana-app-root input[type="url"]:focus,
#arcana-app-root input[type="search"]:focus,
#arcana-app-root input[type="tel"]:focus,
#arcana-app-root input[type="date"]:focus,
#arcana-app-root input[type="datetime-local"]:focus,
#arcana-app-root input[type="time"]:focus,
#arcana-app-root textarea:focus {
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
  background-color: #ffffff !important;
  outline: none !important;
}

/* Textarea specific styling */
#arcana-app-root textarea {
  min-height: 100px !important;
  resize: vertical !important;
  vertical-align: top !important;
}

/* Select elements */
#arcana-app-root select {
  width: 100% !important;
  padding: 8px 12px !important;
  padding-right: 32px !important; /* Space for dropdown arrow */
  margin: 0 !important;
  
  background-color: #ffffff !important;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e") !important;
  background-position: right 8px center !important;
  background-repeat: no-repeat !important;
  background-size: 16px 16px !important;
  
  border: 1px solid #d1d5db !important;
  border-radius: 8px !important;
  
  font-family: 'Inter', system-ui, sans-serif !important;
  font-size: 14px !important;
  color: #111827 !important;
  
  cursor: pointer !important;
  outline: none !important;
}

#arcana-app-root select:focus {
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
}

/* Basic styling for unstyled buttons (styled buttons use Tailwind classes) */
#arcana-app-root button:not(.btn-primary):not(.btn-secondary) {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  
  padding: 8px 16px !important;
  margin: 0 !important;
  
  font-family: 'Inter', system-ui, sans-serif !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  line-height: 1.5 !important;
  text-align: center !important;
  text-decoration: none !important;
  
  background-color: #f3f4f6 !important;
  color: #374151 !important;
  border: 1px solid #d1d5db !important;
  border-radius: 8px !important;
  
  cursor: pointer !important;
  outline: none !important;
  transition: all 0.2s ease !important;
  
  /* Remove any host page effects */
  box-shadow: none !important;
  filter: none !important;
  transform: none !important;
}

#arcana-app-root button:not(.btn-primary):not(.btn-secondary):hover {
  background-color: #e5e7eb !important;
  border-color: #9ca3af !important;
}

/* Ensure styled buttons maintain their Tailwind behavior */
#arcana-app-root button.btn-primary,
#arcana-app-root button.btn-secondary {
  /* Allow Tailwind classes to work by not over-resetting */
  font-family: 'Inter', system-ui, sans-serif !important;
  cursor: pointer !important;
  outline: none !important;
  /* Remove any unwanted host page effects but preserve Tailwind styling */
  filter: none !important;
  transform: none !important;
}

/* Exception for concept tooltip buttons - completely unstyled with higher specificity */
#arcana-app-root button.concept-tooltip-button:not(.btn-primary):not(.btn-secondary),
#arcana-app-root button.concept-tooltip-button {
  background: transparent !important;
  border: none !important;
  margin: 0 !important;
  box-shadow: none !important;
  font-size: inherit !important;
  font-weight: inherit !important;
  line-height: inherit !important;
  text-align: inherit !important;
  text-decoration: none !important;
  border-radius: 0 !important;
  outline: none !important;
  filter: none !important;
  transform: none !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

#arcana-app-root button.concept-tooltip-button:not(.btn-primary):not(.btn-secondary):hover,
#arcana-app-root button.concept-tooltip-button:hover {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* Checkbox and radio inputs */
#arcana-app-root input[type="checkbox"],
#arcana-app-root input[type="radio"] {
  width: 16px !important;
  height: 16px !important;
  margin: 0 !important;
  margin-right: 8px !important;
  
  border: 1px solid #d1d5db !important;
  background-color: #ffffff !important;
  
  cursor: pointer !important;
}

#arcana-app-root input[type="checkbox"] {
  border-radius: 4px !important;
}

#arcana-app-root input[type="radio"] {
  border-radius: 50% !important;
}

#arcana-app-root input[type="checkbox"]:checked,
#arcana-app-root input[type="radio"]:checked {
  background-color: #3b82f6 !important;
  border-color: #3b82f6 !important;
}

/* Label elements */
#arcana-app-root label {
  display: inline-block !important;
  font-family: 'Inter', system-ui, sans-serif !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  color: #374151 !important;
  margin-bottom: 4px !important;
  cursor: pointer !important;
}

/* Fieldset and legend */
#arcana-app-root fieldset {
  border: 1px solid #d1d5db !important;
  border-radius: 8px !important;
  padding: 16px !important;
  margin: 0 !important;
  margin-bottom: 16px !important;
}

#arcana-app-root legend {
  font-family: 'Inter', system-ui, sans-serif !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  color: #111827 !important;
  padding: 0 8px !important;
}

/* Disabled states */
#arcana-app-root input:disabled,
#arcana-app-root textarea:disabled,
#arcana-app-root select:disabled,
#arcana-app-root button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  background-color: #f9fafb !important;
}

/* Placeholder text */
#arcana-app-root input::placeholder,
#arcana-app-root textarea::placeholder {
  color: #9ca3af !important;
  opacity: 1 !important;
  font-style: normal !important;
}

/* Remove spinners from number inputs */
#arcana-app-root input[type="number"]::-webkit-outer-spin-button,
#arcana-app-root input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none !important;
  margin: 0 !important;
}

#arcana-app-root input[type="number"] {
  -moz-appearance: textfield !important;
  appearance: textfield !important;
}

/* File input styling */
#arcana-app-root input[type="file"] {
  width: 100% !important;
  padding: 8px 12px !important;
  border: 2px dashed #d1d5db !important;
  border-radius: 8px !important;
  background-color: #f9fafb !important;
  cursor: pointer !important;
}

#arcana-app-root input[type="file"]:hover {
  border-color: #3b82f6 !important;
  background-color: #eff6ff !important;
}

/* Error states - can be applied via CSS classes */
#arcana-app-root .input-error,
#arcana-app-root input.error,
#arcana-app-root textarea.error,
#arcana-app-root select.error {
  border-color: #ef4444 !important;
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1) !important;
}

/* Success states */
#arcana-app-root .input-success,
#arcana-app-root input.success,
#arcana-app-root textarea.success,
#arcana-app-root select.success {
  border-color: #10b981 !important;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1) !important;
}